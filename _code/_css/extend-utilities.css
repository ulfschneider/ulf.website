@layer utilities {
    :root {
        --flow-space: 1em;
        --outdent-indent-space: theme(spacing.md);
    }

    .flow > * + * {
        margin-block-start: var(--flow-space, 1em);
    }

    .flow-xs > * + * {
        @apply mt-xs;
    }

    .flow-sm > * + * {
        @apply mt-sm;
    }

    .flow-base > * + * {
        @apply mt-base;
    }

    .flow-md > * + * {
        @apply mt-md;
    }

    .flow-lg > * + * {
        @apply mt-lg;
    }

    .flow-xl > * + * {
        @apply mt-xl;
    }

    .meta {
        @apply text-sm font-mono;
    }

    .outline-indicator {
        @apply outline-primary outline-4 outline-offset-2 outline;
    }

    .outline-indicator-lg {
        @apply outline-primary outline-8 outline-offset-2 outline;
    }

    /*grid masonry*/
    .grid-masonry {
        grid-template-rows: masonry;
    }

    /* split */
    .split {
        grid-template-columns: repeat(2, 1fr);
        @apply grid gap-lg;
    }

    .split > * {
        @apply m-0;
    }

    .outdent {
        @apply inline-block min-w-md;
        margin-left: calc(-1 * var(--outdent-indent-space));
        min-width: var(--outdent-indent-space);
    }

    .prose-flow {
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        ol,
        dl,
        td,
        th,
        caption,
        blockquote,
        hr,
        figcaption {
            @apply max-w-prose;
        }
    }

    .outdent-prose-flow {
        @apply outdent !max-w-[calc(theme(maxWidth.prose)+var(--outdent-indent-space))];
    }
}
